<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>ACM NMIET - Admin Panel Dashboard</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        "primary": "#118dd4",
                        "background-light": "#f8fafc", "surface-light": "#ffffff", "surface-highlight": "#f1f5f9", "text-main": "#0f172a", "text-secondary": "#64748b", "border-light": "#e2e8f0",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
    </style>
</head>

<body class="bg-background-light text-text-main font-display overflow-hidden antialiased">
    <div class="flex h-screen w-full relative group/design-root">
        <aside id="sidebar"
            class="fixed inset-y-0 left-0 z-50 w-64 flex flex-col border-r border-border-light bg-surface-light h-full shrink-0 transition-transform duration-300 transform -translate-x-full md:translate-x-0 md:relative md:flex shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]">
            <div class="flex h-full flex-col justify-between p-4">
                <div class="flex flex-col gap-6">
                    <div class="flex items-center gap-3 px-2">
                        <div class="bg-center bg-no-repeat bg-cover rounded-full size-10 shadow-md ring-2 ring-primary/20"
                            data-alt="ACM NMIET Logo abstract geometric blue shape"
                            style="background-image: linear-gradient(135deg, #118dd4 0%, #0a4d75 100%);"></div>
                        <div class="flex flex-col">
                            <h1 class="text-text-main text-base font-bold leading-normal tracking-wide">ACM NMIET</h1>
                            <p class="text-primary text-xs font-medium leading-normal">Admin Portal</p>
                        </div>
                    </div>
                    <nav class="flex flex-col gap-2">
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg bg-primary/10 border-l-4 border-primary shadow-sm"
                            href="../admin_panel_dashboard/code.html">
                            <span class="material-symbols-outlined text-primary fill-current">dashboard</span>
                            <p class="text-primary text-sm font-bold leading-normal">Dashboard Home</p>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-surface-highlight transition-colors group"
                            href="../admin_blog_list_view_page/code.html">
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors">article</span>
                            <p
                                class="text-text-secondary group-hover:text-text-main text-sm font-medium leading-normal transition-colors">
                                Blog Management</p>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-surface-highlight transition-colors group"
                            href="../admin_team_sections_page/code.html">
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors">category</span>
                            <p
                                class="text-text-secondary group-hover:text-text-main text-sm font-medium leading-normal transition-colors">
                                Team Sections</p>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-surface-highlight transition-colors group"
                            href="../admin_team_members_list_view_page/code.html">
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors">group</span>
                            <p
                                class="text-text-secondary group-hover:text-text-main text-sm font-medium leading-normal transition-colors">
                                Team Management</p>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-surface-highlight transition-colors group"
                            href="../admin_activities_list_view_page/code.html">
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors">event</span>
                            <p
                                class="text-text-secondary group-hover:text-text-main text-sm font-medium leading-normal transition-colors">
                                Activities Management</p>
                        </a>
                        <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-surface-highlight transition-colors group"
                            href="../admin_contact_page_content_editor/code.html">
                            <span
                                class="material-symbols-outlined text-text-secondary group-hover:text-primary transition-colors">contact_page</span>
                            <p
                                class="text-text-secondary group-hover:text-text-main text-sm font-medium leading-normal transition-colors">
                                Contact Page Content</p>
                        </a>
                    </nav>
                </div>
                <div class="flex flex-col gap-2 border-t border-border-light pt-4">
                    <a class="flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-red-50 text-text-secondary hover:text-red-600 transition-colors group"
                        href="../admin_panel_login_screen/code.html">
                        <span class="material-symbols-outlined">logout</span>
                        <p class="text-sm font-medium leading-normal">Log Out</p>
                    </a>
                </div>
            </div>
        </aside>
        <div class="flex-1 flex flex-col h-full min-w-0 overflow-hidden bg-background-light relative">
            <header
                class="flex items-center justify-between whitespace-nowrap border-b border-border-light bg-surface-light/80 backdrop-blur-md px-6 py-4 sticky top-0 z-20 shadow-sm">
                <div class="flex items-center gap-4 text-text-main">
                    <button id="mobile-menu-btn" class="md:hidden p-1 text-text-secondary">
                        <span class="material-symbols-outlined">menu</span>
                    </button>
                    <div class="flex flex-col">
                        <div class="flex items-center gap-2 text-text-secondary text-xs">
                            <span>Admin</span>
                            <span class="material-symbols-outlined text-[10px]">chevron_right</span>
                            <span class="text-text-main font-medium">Overview</span>
                        </div>
                        <h2 class="text-text-main text-lg font-bold leading-tight tracking-[-0.015em]">Dashboard
                            Overview</h2>
                    </div>
                </div>
                <div class="flex items-center gap-4">
                    <div class="hidden sm:flex items-center gap-2">
                        <button
                            class="flex size-9 cursor-pointer items-center justify-center rounded-lg bg-surface-highlight hover:bg-slate-200 text-text-secondary hover:text-text-main transition-colors relative border border-border-light">
                            <span class="material-symbols-outlined text-[20px]">notifications</span>
                            <span
                                class="absolute top-2 right-2 size-2 bg-red-500 rounded-full border border-white"></span>
                        </button>
                        <button
                            class="flex size-9 cursor-pointer items-center justify-center rounded-lg bg-surface-highlight hover:bg-slate-200 text-text-secondary hover:text-text-main transition-colors border border-border-light">
                            <span class="material-symbols-outlined text-[20px]">settings</span>
                        </button>
                    </div>
                    <div class="h-8 w-[1px] bg-border-light mx-2 hidden sm:block"></div>
                    <div class="flex items-center gap-3">
                        <div class="bg-center bg-no-repeat bg-cover rounded-full size-9 border border-border-light shadow-sm"
                            data-alt="User profile picture placeholder gradient"
                            style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuD3SGRhumRt1dMJma6YAdChVPLDBdkpLE-fJn5cEA6E4BMd64UjSn7ZepgBDqDvhj05_JBIFGI2IPTbl5lVlBW6pHKNeQ_0E2CtTIatywfQKzBGEMZ2zCNTrYuXUGDYYRO-Dxjg6HXe9Nf1RrW6_tNKRtw_dCKUuan8PHrO7k4lkpLwLGb4QgIAwZhI_vHizlDrZBUXTamDycwiTrQw756xHw303Ei8im97QWnaylnPjxVUnCSMV5lvzkfaauJapAZt1a9JcBeZocCU");'>
                        </div>
                        <div class="hidden md:flex flex-col">
                            <span class="text-sm font-semibold text-text-main leading-none">Admin User</span>
                            <span class="text-xs text-text-secondary leading-tight mt-1">Super Admin</span>
                        </div>
                        <span
                            class="material-symbols-outlined text-text-secondary text-sm hidden md:block">expand_more</span>
                    </div>
                </div>
            </header>
            <main class="flex-1 overflow-y-auto p-4 md:p-8 scroll-smooth">
                <div class="max-w-6xl mx-auto flex flex-col gap-8">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div
                            class="flex flex-col gap-1 rounded-xl p-5 border border-border-light bg-surface-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all group">
                            <div class="flex items-center justify-between">
                                <p class="text-text-secondary text-sm font-semibold">Blog Posts</p>
                                <div
                                    class="bg-surface-highlight p-1.5 rounded-md text-primary group-hover:bg-primary group-hover:text-white transition-colors">
                                    <span class="material-symbols-outlined text-[20px]">article</span>
                                </div>
                            </div>
                            <p class="text-text-main text-3xl font-bold mt-2">12</p>
                            <p class="text-xs text-text-secondary mt-1"><span class="text-amber-600 font-medium">3
                                    Drafts</span> pending review</p>
                        </div>
                        <div
                            class="flex flex-col gap-1 rounded-xl p-5 border border-border-light bg-surface-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all group">
                            <div class="flex items-center justify-between">
                                <p class="text-text-secondary text-sm font-semibold">Team Members</p>
                                <div
                                    class="bg-surface-highlight p-1.5 rounded-md text-primary group-hover:bg-primary group-hover:text-white transition-colors">
                                    <span class="material-symbols-outlined text-[20px]">group</span>
                                </div>
                            </div>
                            <p class="text-text-main text-3xl font-bold mt-2" data-stat="team-count">0</p>
                            <p class="text-xs text-text-secondary mt-1">Total members</p>
                        </div>
                        <div
                            class="flex flex-col gap-1 rounded-xl p-5 border border-border-light bg-surface-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all group">
                            <div class="flex items-center justify-between">
                                <p class="text-text-secondary text-sm font-semibold">Upcoming Activities</p>
                                <div
                                    class="bg-surface-highlight p-1.5 rounded-md text-primary group-hover:bg-primary group-hover:text-white transition-colors">
                                    <span class="material-symbols-outlined text-[20px]">event_upcoming</span>
                                </div>
                            </div>
                            <p class="text-text-main text-3xl font-bold mt-2" data-stat="activities-count">0</p>
                            <p class="text-xs text-text-secondary mt-1">Upcoming events</p>
                        </div>
                        <div
                            class="flex flex-col gap-1 rounded-xl p-5 border border-border-light bg-surface-light shadow-sm hover:shadow-md hover:border-primary/30 transition-all group">
                            <div class="flex items-center justify-between">
                                <p class="text-text-secondary text-sm font-semibold">Contact Queries</p>
                                <div
                                    class="bg-surface-highlight p-1.5 rounded-md text-primary group-hover:bg-primary group-hover:text-white transition-colors">
                                    <span class="material-symbols-outlined text-[20px]">mark_email_unread</span>
                                </div>
                            </div>
                            <p class="text-text-main text-3xl font-bold mt-2">8</p>
                            <p class="text-xs text-text-secondary mt-1">Unread messages</p>
                        </div>
                    </div>
                    <div class="flex flex-col gap-4">
                        <div class="flex flex-row justify-between items-center">
                            <h3 class="text-text-main text-lg font-bold flex items-center gap-2">
                                <span class="material-symbols-outlined text-primary">article</span>
                                Blog Management
                            </h3>
                            <button
                                class="flex items-center gap-2 px-3 py-1.5 bg-primary hover:bg-[#0f7ab8] text-white text-sm font-semibold rounded-lg shadow-sm hover:shadow-md transition-all">
                                <span class="material-symbols-outlined text-[18px]">add</span>
                                Create New Blog Post
                            </button>
                        </div>
                        <div class="rounded-xl border border-border-light bg-surface-light overflow-hidden shadow-sm">
                            <div class="overflow-x-auto">
                                <table class="w-full text-left text-sm text-text-secondary">
                                    <thead
                                        class="bg-surface-highlight text-xs uppercase font-semibold text-text-secondary border-b border-border-light">
                                        <tr>
                                            <th class="px-6 py-3">Blog Title</th>
                                            <th class="px-6 py-3">Author</th>
                                            <th class="px-6 py-3">Date</th>
                                            <th class="px-6 py-3">Status</th>
                                            <th class="px-6 py-3 text-right">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody class="divide-y divide-border-light">
                                        <tr class="hover:bg-surface-highlight/50 transition-colors">
                                            <td class="px-6 py-3 text-text-main font-medium">Future of AI in Education
                                            </td>
                                            <td class="px-6 py-3">Anita Roy</td>
                                            <td class="px-6 py-3">Oct 24, 2023</td>
                                            <td class="px-6 py-3"><span
                                                    class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-700 border border-green-200">Published</span>
                                            </td>
                                            <td class="px-6 py-3 text-right">
                                                <button class="text-text-secondary hover:text-primary mr-2"><span
                                                        class="material-symbols-outlined text-[18px]">edit</span></button>
                                                <button class="text-text-secondary hover:text-red-500"><span
                                                        class="material-symbols-outlined text-[18px]">delete</span></button>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-surface-highlight/50 transition-colors">
                                            <td class="px-6 py-3 text-text-main font-medium">Recap: Hackathon 2023</td>
                                            <td class="px-6 py-3">Sarah Jenkins</td>
                                            <td class="px-6 py-3">Oct 18, 2023</td>
                                            <td class="px-6 py-3"><span
                                                    class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 text-amber-700 border border-amber-200">Draft</span>
                                            </td>
                                            <td class="px-6 py-3 text-right">
                                                <button class="text-text-secondary hover:text-primary mr-2"><span
                                                        class="material-symbols-outlined text-[18px]">edit</span></button>
                                                <button class="text-text-secondary hover:text-red-500"><span
                                                        class="material-symbols-outlined text-[18px]">delete</span></button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col gap-4">
                        <div class="flex flex-row justify-between items-center">
                            <div class="flex flex-col">
                                <h3 class="text-text-main text-lg font-bold flex items-center gap-2">
                                    <span class="material-symbols-outlined text-primary">group</span>
                                    Team Management
                                </h3>
                                <p class="text-xs text-text-secondary ml-7">Manage authorized members and roles</p>
                            </div>
                            <button
                                class="flex items-center gap-2 px-3 py-1.5 bg-surface-highlight hover:bg-slate-200 text-text-main text-sm font-semibold rounded-lg border border-border-light transition-all">
                                <span class="material-symbols-outlined text-[18px]">person_add</span>
                                Add New Member
                            </button>
                        </div>
                        <div id="team-preview-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- Team members will be loaded here dynamically -->
                            <div class="col-span-full text-center py-8 text-text-secondary">
                                <span class="material-symbols-outlined text-4xl mb-2">refresh</span>
                                <p class="text-sm">Loading team members...</p>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 pb-8">
                        <div class="flex flex-col gap-4">
                            <div class="flex flex-row justify-between items-center">
                                <h3 class="text-text-main text-lg font-bold flex items-center gap-2">
                                    <span class="material-symbols-outlined text-primary">event</span>
                                    Activities Management
                                </h3>
                                <button class="text-primary text-xs font-bold hover:underline">Add Activity</button>
                            </div>
                            <div id="activities-preview-container"
                                class="rounded-xl border border-border-light bg-surface-light p-4 flex flex-col gap-3 shadow-sm">
                                <!-- Activities will be loaded here dynamically -->
                                <div class="text-center py-8 text-text-secondary">
                                    <span class="material-symbols-outlined text-4xl mb-2">refresh</span>
                                    <p class="text-sm">Loading activities...</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex flex-col gap-4">
                            <div class="flex flex-row justify-between items-center">
                                <h3 class="text-text-main text-lg font-bold flex items-center gap-2">
                                    <span class="material-symbols-outlined text-primary">contact_page</span>
                                    Contact Page Content
                                </h3>
                            </div>
                            <div class="rounded-xl border border-border-light bg-surface-light p-5 shadow-sm">
                                <form class="flex flex-col gap-4" onsubmit="event.preventDefault();">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="col-span-2 sm:col-span-1">
                                            <label class="block text-xs font-semibold text-text-secondary mb-1">Official
                                                Email</label>
                                            <input
                                                class="w-full bg-slate-50 border border-border-light rounded-lg text-sm text-text-main px-3 py-2 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"
                                                type="email" value="contact@acm-nmiet.org" />
                                        </div>
                                        <div class="col-span-2 sm:col-span-1">
                                            <label class="block text-xs font-semibold text-text-secondary mb-1">Phone
                                                Number</label>
                                            <input
                                                class="w-full bg-slate-50 border border-border-light rounded-lg text-sm text-text-main px-3 py-2 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"
                                                type="text" value="+91 98765 43210" />
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-semibold text-text-secondary mb-1">Office
                                            Address</label>
                                        <input
                                            class="w-full bg-slate-50 border border-border-light rounded-lg text-sm text-text-main px-3 py-2 focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all"
                                            type="text" value="NMIET Campus, Talegaon, Pune - 410507" />
                                    </div>
                                    <div class="pt-2 flex justify-end gap-2">
                                        <button
                                            class="px-3 py-1.5 text-xs font-medium text-text-secondary hover:text-text-main hover:bg-slate-100 rounded transition-colors">Cancel</button>
                                        <button
                                            class="px-4 py-1.5 bg-primary hover:bg-[#0f7ab8] text-white text-xs font-bold rounded-lg transition-colors shadow-sm">Save
                                            Changes</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const menuBtn = document.getElementById('mobile-menu-btn');
        const sidebar = document.getElementById('sidebar');

        if (menuBtn && sidebar) {
            menuBtn.addEventListener('click', () => {
                sidebar.classList.toggle('-translate-x-full');
            });
        }
    });
</script>

<script type="module">
    import { db } from '../assets/js/firebase_config.js';
    import { collection, getDocs, query, orderBy, limit, where } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    async function loadDashboardData() {
        try {
            // Fetch Team Members Count
            const teamSnapshot = await getDocs(collection(db, "team_members"));
            const teamCount = teamSnapshot.size;
            document.querySelector('[data-stat="team-count"]').textContent = teamCount;

            // Fetch Activities Count (only upcoming)
            const activitiesSnapshot = await getDocs(collection(db, "activities"));
            const activitiesCount = activitiesSnapshot.size;
            const upcomingCount = activitiesSnapshot.docs.filter(doc => doc.data().status === 'upcoming').length;
            document.querySelector('[data-stat="activities-count"]').textContent = upcomingCount;

            // Display recent team members (top 3)
            const teamQuery = query(collection(db, "team_members"), orderBy("createdAt", "desc"), limit(3));
            const teamDocs = await getDocs(teamQuery);
            const teamContainer = document.getElementById('team-preview-container');
            teamContainer.innerHTML = ''; // Clear placeholder

            teamDocs.forEach(doc => {
                const member = doc.data();
                const card = createTeamCard(member);
                teamContainer.appendChild(card);
            });

            // Display upcoming activities (next 2)
            const activitiesQuery = query(
                collection(db, "activities"),
                orderBy("createdAt", "desc"),
                limit(5)
            );
            const activitiesDocs = await getDocs(activitiesQuery);
            const activitiesContainer = document.getElementById('activities-preview-container');
            activitiesContainer.innerHTML = ''; // Clear placeholder

            let count = 0;
            activitiesDocs.forEach(doc => {
                if (count < 2) { // Show only first 2
                    const activity = doc.data();
                    const card = createActivityCard(activity);
                    activitiesContainer.appendChild(card);
                    count++;
                }
            });

        } catch (error) {
            console.error("Error loading dashboard data:", error);
        }
    }

    function createTeamCard(member) {
        const div = document.createElement('div');
        div.className = "rounded-xl border border-border-light bg-surface-light p-4 flex items-center gap-4 relative group shadow-sm hover:shadow-md transition-shadow";

        // Handle photo with fallback to initials
        let photoHTML;
        if (member.photoURL) {
            photoHTML = `<div class="size-12 rounded-full bg-cover bg-center border border-border-light shadow-sm" style="background-image: url('${member.photoURL}');"></div>`;
        } else {
            const initials = member.name ? member.name.split(' ').map(n => n[0]).join('').toUpperCase().substring(0, 2) : 'NA';
            photoHTML = `<div class="size-12 rounded-full bg-slate-100 border border-slate-200 flex items-center justify-center text-primary font-bold shadow-sm">${initials}</div>`;
        }

        div.innerHTML = `
            ${photoHTML}
            <div class="flex-1 min-w-0">
                <h4 class="text-text-main font-semibold text-sm truncate">${member.name}</h4>
                <p class="text-text-secondary text-xs">${member.role}</p>
                <div class="flex gap-2 mt-2">
                    ${member.linkedin ? '<span class="material-symbols-outlined text-text-secondary text-[16px] cursor-pointer hover:text-primary transition-colors">link</span>' : ''}
                    ${member.github ? '<span class="material-symbols-outlined text-text-secondary text-[16px] cursor-pointer hover:text-primary transition-colors">code</span>' : ''}
                </div>
            </div>
            <div class="absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-white/90 backdrop-blur-sm rounded p-1">
                <button class="p-1 hover:bg-slate-100 rounded text-primary"><span class="material-symbols-outlined text-[16px]">edit</span></button>
                <button class="p-1 hover:bg-slate-100 rounded text-red-500"><span class="material-symbols-outlined text-[16px]">delete</span></button>
            </div>
        `;
        return div;
    }

    function createActivityCard(activity) {
        const div = document.createElement('div');
        div.className = "flex items-center gap-3 p-3 rounded-lg bg-slate-50 border border-border-light hover:border-primary/40 transition-colors group";

        // Parse date if available
        let dateDisplay = 'TBA';
        let monthDisplay = 'TBA';
        let dayDisplay = '';

        if (activity.date) {
            try {
                const dateObj = new Date(activity.date);
                monthDisplay = dateObj.toLocaleDateString('en-US', { month: 'short' });
                dayDisplay = dateObj.getDate();
            } catch (e) {
                // If date parsing fails, use the raw date string
                dateDisplay = activity.date;
            }
        }

        // Status badge
        let statusBadge = '';
        if (activity.status === 'upcoming') {
            statusBadge = '<span class="hidden sm:inline-block px-2 py-0.5 bg-blue-100 text-blue-600 text-[10px] font-bold uppercase rounded border border-blue-200">Upcoming</span>';
        } else if (activity.status === 'ongoing') {
            statusBadge = '<span class="hidden sm:inline-block px-2 py-0.5 bg-green-100 text-green-600 text-[10px] font-bold uppercase rounded border border-green-200">Ongoing</span>';
        } else if (activity.status === 'completed') {
            statusBadge = '<span class="hidden sm:inline-block px-2 py-0.5 bg-gray-100 text-gray-600 text-[10px] font-bold uppercase rounded border border-gray-200">Completed</span>';
        }

        div.innerHTML = `
            <div class="flex flex-col items-center justify-center w-10 h-10 bg-white border border-border-light rounded text-center shrink-0 shadow-sm">
                <span class="text-[9px] uppercase text-text-secondary font-bold">${monthDisplay}</span>
                <span class="text-sm font-bold text-text-main leading-none">${dayDisplay || dateDisplay}</span>
            </div>
            <div class="flex-1 min-w-0">
                <h5 class="text-text-main text-sm font-semibold truncate">${activity.title}</h5>
                <p class="text-text-secondary text-xs truncate">${activity.location || 'Location TBA'}</p>
            </div>
            <div class="flex items-center gap-2">
                ${statusBadge}
                <button class="text-text-secondary hover:text-primary"><span class="material-symbols-outlined text-[18px]">edit</span></button>
            </div>
        `;
        return div;
    }

    // Load data when page loads
    loadDashboardData();
</script>

</html>